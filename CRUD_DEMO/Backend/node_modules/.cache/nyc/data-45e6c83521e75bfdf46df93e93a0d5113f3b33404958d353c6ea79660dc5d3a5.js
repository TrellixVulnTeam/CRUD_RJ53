function cov_ju39ezo12(){var path="C:\\Users\\91630\\Desktop\\CRUD_DEMO\\Backend\\src\\model\\data.js";var hash="8875870839a9d87052f7383ac85978a7e342e184";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\91630\\Desktop\\CRUD_DEMO\\Backend\\src\\model\\data.js",statementMap:{"0":{start:{line:1,column:19},end:{line:1,column:53}},"1":{start:{line:2,column:20},end:{line:2,column:42}},"2":{start:{line:4,column:12},end:{line:4,column:14}},"3":{start:{line:11,column:23},end:{line:13,column:1}},"4":{start:{line:12,column:4},end:{line:12,column:50}},"5":{start:{line:22,column:0},end:{line:30,column:2}},"6":{start:{line:23,column:4},end:{line:23,column:34}},"7":{start:{line:24,column:19},end:{line:24,column:55}},"8":{start:{line:25,column:4},end:{line:29,column:5}},"9":{start:{line:26,column:8},end:{line:26,column:24}},"10":{start:{line:28,column:8},end:{line:28,column:20}},"11":{start:{line:38,column:0},end:{line:45,column:1}},"12":{start:{line:39,column:19},end:{line:39,column:55}},"13":{start:{line:40,column:4},end:{line:44,column:5}},"14":{start:{line:41,column:8},end:{line:41,column:24}},"15":{start:{line:43,column:8},end:{line:43,column:20}},"16":{start:{line:54,column:0},end:{line:61,column:1}},"17":{start:{line:55,column:19},end:{line:55,column:42}},"18":{start:{line:56,column:4},end:{line:60,column:5}},"19":{start:{line:57,column:8},end:{line:57,column:24}},"20":{start:{line:59,column:8},end:{line:59,column:20}},"21":{start:{line:70,column:0},end:{line:77,column:1}},"22":{start:{line:71,column:19},end:{line:71,column:65}},"23":{start:{line:72,column:4},end:{line:76,column:5}},"24":{start:{line:73,column:8},end:{line:73,column:24}},"25":{start:{line:75,column:8},end:{line:75,column:20}},"26":{start:{line:87,column:0},end:{line:115,column:1}},"27":{start:{line:88,column:14},end:{line:88,column:31}},"28":{start:{line:89,column:16},end:{line:89,column:31}},"29":{start:{line:90,column:14},end:{line:90,column:32}},"30":{start:{line:91,column:14},end:{line:91,column:27}},"31":{start:{line:92,column:16},end:{line:92,column:34}},"32":{start:{line:93,column:14},end:{line:93,column:29}},"33":{start:{line:94,column:18},end:{line:94,column:30}},"34":{start:{line:95,column:15},end:{line:95,column:29}},"35":{start:{line:97,column:19},end:{line:108,column:33}},"36":{start:{line:109,column:4},end:{line:109,column:26}},"37":{start:{line:110,column:4},end:{line:114,column:5}},"38":{start:{line:111,column:8},end:{line:111,column:24}},"39":{start:{line:113,column:8},end:{line:113,column:20}},"40":{start:{line:123,column:0},end:{line:130,column:1}},"41":{start:{line:124,column:19},end:{line:124,column:88}},"42":{start:{line:125,column:4},end:{line:129,column:5}},"43":{start:{line:126,column:8},end:{line:126,column:24}},"44":{start:{line:128,column:8},end:{line:128,column:20}},"45":{start:{line:131,column:0},end:{line:131,column:19}},"46":{start:{line:132,column:0},end:{line:132,column:23}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:11,column:23},end:{line:11,column:24}},loc:{start:{line:11,column:32},end:{line:13,column:1}},line:11},"1":{name:"(anonymous_1)",decl:{start:{line:22,column:21},end:{line:22,column:22}},loc:{start:{line:22,column:30},end:{line:30,column:1}},line:22},"2":{name:"(anonymous_2)",decl:{start:{line:38,column:20},end:{line:38,column:21}},loc:{start:{line:38,column:40},end:{line:45,column:1}},line:38},"3":{name:"(anonymous_3)",decl:{start:{line:54,column:24},end:{line:54,column:25}},loc:{start:{line:54,column:33},end:{line:61,column:1}},line:54},"4":{name:"(anonymous_4)",decl:{start:{line:70,column:21},end:{line:70,column:22}},loc:{start:{line:70,column:33},end:{line:77,column:1}},line:70},"5":{name:"(anonymous_5)",decl:{start:{line:87,column:23},end:{line:87,column:24}},loc:{start:{line:87,column:38},end:{line:115,column:1}},line:87},"6":{name:"(anonymous_6)",decl:{start:{line:123,column:21},end:{line:123,column:22}},loc:{start:{line:123,column:32},end:{line:130,column:1}},line:123}},branchMap:{"0":{loc:{start:{line:25,column:4},end:{line:29,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:29,column:5}},{start:{line:25,column:4},end:{line:29,column:5}}],line:25},"1":{loc:{start:{line:25,column:7},end:{line:25,column:34}},type:"binary-expr",locations:[{start:{line:25,column:7},end:{line:25,column:15}},{start:{line:25,column:19},end:{line:25,column:34}}],line:25},"2":{loc:{start:{line:40,column:4},end:{line:44,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:44,column:5}},{start:{line:40,column:4},end:{line:44,column:5}}],line:40},"3":{loc:{start:{line:56,column:4},end:{line:60,column:5}},type:"if",locations:[{start:{line:56,column:4},end:{line:60,column:5}},{start:{line:56,column:4},end:{line:60,column:5}}],line:56},"4":{loc:{start:{line:56,column:7},end:{line:56,column:36}},type:"binary-expr",locations:[{start:{line:56,column:7},end:{line:56,column:15}},{start:{line:56,column:19},end:{line:56,column:36}}],line:56},"5":{loc:{start:{line:72,column:4},end:{line:76,column:5}},type:"if",locations:[{start:{line:72,column:4},end:{line:76,column:5}},{start:{line:72,column:4},end:{line:76,column:5}}],line:72},"6":{loc:{start:{line:110,column:4},end:{line:114,column:5}},type:"if",locations:[{start:{line:110,column:4},end:{line:114,column:5}},{start:{line:110,column:4},end:{line:114,column:5}}],line:110},"7":{loc:{start:{line:125,column:4},end:{line:129,column:5}},type:"if",locations:[{start:{line:125,column:4},end:{line:129,column:5}},{start:{line:125,column:4},end:{line:129,column:5}}],line:125}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8875870839a9d87052f7383ac85978a7e342e184"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_ju39ezo12=function(){return actualCoverage;};}return actualCoverage;}cov_ju39ezo12();const connection=(cov_ju39ezo12().s[0]++,require("../utilities/connection"));//importing connection module
const initialData=(cov_ju39ezo12().s[1]++,require("./data.json"));//importing sample data json
let model=(cov_ju39ezo12().s[2]++,{});/*
  createCollection() :
  calling the getCollection() method,
  returns a collection object
*/cov_ju39ezo12().s[3]++;let createCollection=async()=>{cov_ju39ezo12().f[0]++;cov_ju39ezo12().s[4]++;collection=await connection.getCollection();};/* 
   model.insertScript() :
   deletes all documents if any,
   inserts all documents using create function which takes initialData contains json data,
   if response is array of inserted documents,then return response.
   else returns null
*/cov_ju39ezo12().s[5]++;model.insertScript=async()=>{cov_ju39ezo12().f[1]++;cov_ju39ezo12().s[6]++;await collection.deleteMany();let response=(cov_ju39ezo12().s[7]++,await collection.create(initialData));cov_ju39ezo12().s[8]++;if((cov_ju39ezo12().b[1][0]++,response)&&(cov_ju39ezo12().b[1][1]++,response.length)){cov_ju39ezo12().b[0][0]++;cov_ju39ezo12().s[9]++;return response;}else{cov_ju39ezo12().b[0][1]++;cov_ju39ezo12().s[10]++;return null;}};/* 
  model.addEmployee() :
  insert a student document,
  if insertion successfull , then returns inserted document,
  else returns null
*/cov_ju39ezo12().s[11]++;model.addEmployee=async employeeObj=>{cov_ju39ezo12().f[2]++;let response=(cov_ju39ezo12().s[12]++,await collection.create(employeeObj));cov_ju39ezo12().s[13]++;if(response){cov_ju39ezo12().b[2][0]++;cov_ju39ezo12().s[14]++;return response;}else{cov_ju39ezo12().b[2][1]++;cov_ju39ezo12().s[15]++;return null;}};/*
  model.getAllEmployees() :
  read all employees,
  if operation successfull then returns the all employee documents,
  else returns null
*/cov_ju39ezo12().s[16]++;model.getAllEmployees=async()=>{cov_ju39ezo12().f[3]++;let response=(cov_ju39ezo12().s[17]++,await collection.find());cov_ju39ezo12().s[18]++;if((cov_ju39ezo12().b[4][0]++,response)&&(cov_ju39ezo12().b[4][1]++,response.length>0)){cov_ju39ezo12().b[3][0]++;cov_ju39ezo12().s[19]++;return response;}else{cov_ju39ezo12().b[3][1]++;cov_ju39ezo12().s[20]++;return null;}};/*
  model.deleteEmployee() :
  delete the employeed by given id,
  if success then return the data
  else return null
*/cov_ju39ezo12().s[21]++;model.deleteEmployee=async eid=>{cov_ju39ezo12().f[4]++;let response=(cov_ju39ezo12().s[22]++,await collection.deleteOne({EmployeeId:eid}));cov_ju39ezo12().s[23]++;if(response.deletedCount>0){cov_ju39ezo12().b[5][0]++;cov_ju39ezo12().s[24]++;return response;}else{cov_ju39ezo12().b[5][1]++;cov_ju39ezo12().s[25]++;return null;}};/*
   model.updateEmployee() :
   update the employeed by given id,
   if success then return the data
   else return null
   runValidators to check the validations
*/cov_ju39ezo12().s[26]++;model.updateEmployee=async empObj=>{cov_ju39ezo12().f[5]++;let eid=(cov_ju39ezo12().s[27]++,empObj.EmployeeId);let fName=(cov_ju39ezo12().s[28]++,empObj.FullName);let dob=(cov_ju39ezo12().s[29]++,empObj.DateOfBirth);let sal=(cov_ju39ezo12().s[30]++,empObj.Salary);let desg=(cov_ju39ezo12().s[31]++,empObj.Designation);let mob=(cov_ju39ezo12().s[32]++,empObj.MobileNo);let emailid=(cov_ju39ezo12().s[33]++,empObj.Email);let addr=(cov_ju39ezo12().s[34]++,empObj.Address);let response=(cov_ju39ezo12().s[35]++,await collection.updateOne({EmployeeId:eid},{$set:{FullName:fName,DateOfBirth:dob,Salary:sal,Designation:desg,MobileNo:mob,Email:emailid,Address:addr}},{runValidators:true}));cov_ju39ezo12().s[36]++;console.log(response);cov_ju39ezo12().s[37]++;if(response.modifiedCount>0){cov_ju39ezo12().b[6][0]++;cov_ju39ezo12().s[38]++;return response;}else{cov_ju39ezo12().b[6][1]++;cov_ju39ezo12().s[39]++;return null;}};/*
   model.readEmployee() :
   read the employeed by given id,
   if success then return the data
   else return null
*/cov_ju39ezo12().s[40]++;model.readEmployee=async id=>{cov_ju39ezo12().f[6]++;let response=(cov_ju39ezo12().s[41]++,await collection.findOne({EmployeeId:id},{_id:0,"Address._id":0}));cov_ju39ezo12().s[42]++;if(response){cov_ju39ezo12().b[7][0]++;cov_ju39ezo12().s[43]++;return response;}else{cov_ju39ezo12().b[7][1]++;cov_ju39ezo12().s[44]++;return null;}};cov_ju39ezo12().s[45]++;createCollection();cov_ju39ezo12().s[46]++;module.exports=model;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGEuanMiXSwibmFtZXMiOlsiY29ubmVjdGlvbiIsInJlcXVpcmUiLCJpbml0aWFsRGF0YSIsIm1vZGVsIiwiY3JlYXRlQ29sbGVjdGlvbiIsImNvbGxlY3Rpb24iLCJnZXRDb2xsZWN0aW9uIiwiaW5zZXJ0U2NyaXB0IiwiZGVsZXRlTWFueSIsInJlc3BvbnNlIiwiY3JlYXRlIiwibGVuZ3RoIiwiYWRkRW1wbG95ZWUiLCJlbXBsb3llZU9iaiIsImdldEFsbEVtcGxveWVlcyIsImZpbmQiLCJkZWxldGVFbXBsb3llZSIsImVpZCIsImRlbGV0ZU9uZSIsIkVtcGxveWVlSWQiLCJkZWxldGVkQ291bnQiLCJ1cGRhdGVFbXBsb3llZSIsImVtcE9iaiIsImZOYW1lIiwiRnVsbE5hbWUiLCJkb2IiLCJEYXRlT2ZCaXJ0aCIsInNhbCIsIlNhbGFyeSIsImRlc2ciLCJEZXNpZ25hdGlvbiIsIm1vYiIsIk1vYmlsZU5vIiwiZW1haWxpZCIsIkVtYWlsIiwiYWRkciIsIkFkZHJlc3MiLCJ1cGRhdGVPbmUiLCIkc2V0IiwicnVuVmFsaWRhdG9ycyIsImNvbnNvbGUiLCJsb2ciLCJtb2RpZmllZENvdW50IiwicmVhZEVtcGxveWVlIiwiaWQiLCJmaW5kT25lIiwiX2lkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IjhwTUFlWTt5RkFmWixLQUFNQSxDQUFBQSxVQUFVLHlCQUFHQyxPQUFPLENBQUMseUJBQUQsQ0FBVixDQUFoQixDQUFzRDtBQUN0RCxLQUFNQyxDQUFBQSxXQUFXLHlCQUFHRCxPQUFPLENBQUMsYUFBRCxDQUFWLENBQWpCLENBQTJDO0FBRTNDLEdBQUlFLENBQUFBLEtBQUsseUJBQUcsRUFBSCxDQUFULENBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFLHVCQUNBLEdBQUlDLENBQUFBLGdCQUFnQixDQUFHLFNBQVMsK0NBQzVCQyxVQUFVLENBQUcsS0FBTUwsQ0FBQUEsVUFBVSxDQUFDTSxhQUFYLEVBQW5CLENBQ0gsQ0FGRCxDQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEUsdUJBQ0FILEtBQUssQ0FBQ0ksWUFBTixDQUFxQixTQUFTLCtDQUMxQixLQUFNRixDQUFBQSxVQUFVLENBQUNHLFVBQVgsRUFBTixDQUNBLEdBQUlDLENBQUFBLFFBQVEseUJBQUcsS0FBTUosQ0FBQUEsVUFBVSxDQUFDSyxNQUFYLENBQWtCUixXQUFsQixDQUFULENBQVosQ0FGMEIsdUJBRzFCLEdBQUcsMkJBQUFPLFFBQVEsOEJBQUlBLFFBQVEsQ0FBQ0UsTUFBYixDQUFYLENBQStCLGtEQUMzQixNQUFPRixDQUFBQSxRQUFQLENBQ0gsQ0FGRCxJQUVLLG1EQUNELE1BQU8sS0FBUCxDQUNILENBQ0osQ0FSRCxDQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFLHdCQUNBTixLQUFLLENBQUNTLFdBQU4sQ0FBb0IsS0FBTUMsQ0FBQUEsV0FBTixFQUFvQix3QkFDcEMsR0FBSUosQ0FBQUEsUUFBUSwwQkFBRyxLQUFNSixDQUFBQSxVQUFVLENBQUNLLE1BQVgsQ0FBa0JHLFdBQWxCLENBQVQsQ0FBWixDQURvQyx3QkFFcEMsR0FBR0osUUFBSCxDQUFZLG1EQUNSLE1BQU9BLENBQUFBLFFBQVAsQ0FDSCxDQUZELElBRUssbURBQ0QsTUFBTyxLQUFQLENBQ0gsQ0FDSixDQVBELENBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEUsd0JBRUFOLEtBQUssQ0FBQ1csZUFBTixDQUF3QixTQUFTLHdCQUM3QixHQUFJTCxDQUFBQSxRQUFRLDBCQUFHLEtBQU1KLENBQUFBLFVBQVUsQ0FBQ1UsSUFBWCxFQUFULENBQVosQ0FENkIsd0JBRTdCLEdBQUcsMkJBQUFOLFFBQVEsOEJBQUlBLFFBQVEsQ0FBQ0UsTUFBVCxDQUFnQixDQUFwQixDQUFYLENBQWlDLG1EQUM3QixNQUFPRixDQUFBQSxRQUFQLENBQ0gsQ0FGRCxJQUVLLG1EQUNELE1BQU8sS0FBUCxDQUNILENBQ0osQ0FQRCxDQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFLHdCQUVBTixLQUFLLENBQUNhLGNBQU4sQ0FBcUIsS0FBTUMsQ0FBQUEsR0FBTixFQUFZLHdCQUM3QixHQUFJUixDQUFBQSxRQUFRLDBCQUFHLEtBQU1KLENBQUFBLFVBQVUsQ0FBQ2EsU0FBWCxDQUFxQixDQUFDQyxVQUFVLENBQUdGLEdBQWQsQ0FBckIsQ0FBVCxDQUFaLENBRDZCLHdCQUU3QixHQUFHUixRQUFRLENBQUNXLFlBQVQsQ0FBc0IsQ0FBekIsQ0FBMkIsbURBQ3ZCLE1BQU9YLENBQUFBLFFBQVAsQ0FDSCxDQUZELElBRUssbURBQ0QsTUFBTyxLQUFQLENBQ0gsQ0FDSixDQVBELENBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRSx3QkFFQU4sS0FBSyxDQUFDa0IsY0FBTixDQUF1QixLQUFNQyxDQUFBQSxNQUFOLEVBQWUsd0JBQ2xDLEdBQUlMLENBQUFBLEdBQUcsMEJBQUdLLE1BQU0sQ0FBQ0gsVUFBVixDQUFQLENBQ0EsR0FBSUksQ0FBQUEsS0FBSywwQkFBR0QsTUFBTSxDQUFDRSxRQUFWLENBQVQsQ0FDQSxHQUFJQyxDQUFBQSxHQUFHLDBCQUFHSCxNQUFNLENBQUNJLFdBQVYsQ0FBUCxDQUNBLEdBQUlDLENBQUFBLEdBQUcsMEJBQUdMLE1BQU0sQ0FBQ00sTUFBVixDQUFQLENBQ0EsR0FBSUMsQ0FBQUEsSUFBSSwwQkFBSVAsTUFBTSxDQUFDUSxXQUFYLENBQVIsQ0FDQSxHQUFJQyxDQUFBQSxHQUFHLDBCQUFHVCxNQUFNLENBQUNVLFFBQVYsQ0FBUCxDQUNBLEdBQUlDLENBQUFBLE9BQU8sMEJBQUdYLE1BQU0sQ0FBQ1ksS0FBVixDQUFYLENBQ0EsR0FBSUMsQ0FBQUEsSUFBSSwwQkFBR2IsTUFBTSxDQUFDYyxPQUFWLENBQVIsQ0FFQSxHQUFJM0IsQ0FBQUEsUUFBUSwwQkFBRyxLQUFNSixDQUFBQSxVQUFVLENBQUNnQyxTQUFYLENBQXFCLENBQUNsQixVQUFVLENBQUdGLEdBQWQsQ0FBckIsQ0FDakIsQ0FDSXFCLElBQUksQ0FBRyxDQUNIZCxRQUFRLENBQUdELEtBRFIsQ0FFSEcsV0FBVyxDQUFHRCxHQUZYLENBR0hHLE1BQU0sQ0FBR0QsR0FITixDQUlIRyxXQUFXLENBQUdELElBSlgsQ0FLSEcsUUFBUSxDQUFHRCxHQUxSLENBTUhHLEtBQUssQ0FBR0QsT0FOTCxDQU9IRyxPQUFPLENBQUdELElBUFAsQ0FEWCxDQURpQixDQVdmLENBQUNJLGFBQWEsQ0FBRyxJQUFqQixDQVhlLENBQVQsQ0FBWixDQVZrQyx3QkFzQmxDQyxPQUFPLENBQUNDLEdBQVIsQ0FBWWhDLFFBQVosRUF0QmtDLHdCQXVCbEMsR0FBR0EsUUFBUSxDQUFDaUMsYUFBVCxDQUF1QixDQUExQixDQUE0QixtREFDeEIsTUFBT2pDLENBQUFBLFFBQVAsQ0FDSCxDQUZELElBRUssbURBQ0QsTUFBTyxLQUFQLENBQ0gsQ0FDSixDQTVCRCxDQThCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRSx3QkFDQU4sS0FBSyxDQUFDd0MsWUFBTixDQUFxQixLQUFNQyxDQUFBQSxFQUFOLEVBQVcsd0JBQzVCLEdBQUluQyxDQUFBQSxRQUFRLDBCQUFHLEtBQU1KLENBQUFBLFVBQVUsQ0FBQ3dDLE9BQVgsQ0FBbUIsQ0FBQzFCLFVBQVUsQ0FBR3lCLEVBQWQsQ0FBbkIsQ0FBcUMsQ0FBQ0UsR0FBRyxDQUFHLENBQVAsQ0FBUyxjQUFjLENBQXZCLENBQXJDLENBQVQsQ0FBWixDQUQ0Qix3QkFFNUIsR0FBR3JDLFFBQUgsQ0FBWSxtREFDUixNQUFPQSxDQUFBQSxRQUFQLENBQ0gsQ0FGRCxJQUVLLG1EQUNELE1BQU8sS0FBUCxDQUNILENBQ0osQ0FQRCxDLHdCQVFBTCxnQkFBZ0IsRyx3QkFDaEIyQyxNQUFNLENBQUNDLE9BQVAsQ0FBaUI3QyxLQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNvbm5lY3Rpb24gPSByZXF1aXJlKFwiLi4vdXRpbGl0aWVzL2Nvbm5lY3Rpb25cIik7Ly9pbXBvcnRpbmcgY29ubmVjdGlvbiBtb2R1bGVcclxuY29uc3QgaW5pdGlhbERhdGEgPSByZXF1aXJlKFwiLi9kYXRhLmpzb25cIik7Ly9pbXBvcnRpbmcgc2FtcGxlIGRhdGEganNvblxyXG5cclxubGV0IG1vZGVsID0ge31cclxuXHJcbi8qXHJcbiAgY3JlYXRlQ29sbGVjdGlvbigpIDpcclxuICBjYWxsaW5nIHRoZSBnZXRDb2xsZWN0aW9uKCkgbWV0aG9kLFxyXG4gIHJldHVybnMgYSBjb2xsZWN0aW9uIG9iamVjdFxyXG4qL1xyXG5sZXQgY3JlYXRlQ29sbGVjdGlvbiA9IGFzeW5jKCk9PntcclxuICAgIGNvbGxlY3Rpb24gPSBhd2FpdCBjb25uZWN0aW9uLmdldENvbGxlY3Rpb24oKTtcclxufTtcclxuXHJcbi8qIFxyXG4gICBtb2RlbC5pbnNlcnRTY3JpcHQoKSA6XHJcbiAgIGRlbGV0ZXMgYWxsIGRvY3VtZW50cyBpZiBhbnksXHJcbiAgIGluc2VydHMgYWxsIGRvY3VtZW50cyB1c2luZyBjcmVhdGUgZnVuY3Rpb24gd2hpY2ggdGFrZXMgaW5pdGlhbERhdGEgY29udGFpbnMganNvbiBkYXRhLFxyXG4gICBpZiByZXNwb25zZSBpcyBhcnJheSBvZiBpbnNlcnRlZCBkb2N1bWVudHMsdGhlbiByZXR1cm4gcmVzcG9uc2UuXHJcbiAgIGVsc2UgcmV0dXJucyBudWxsXHJcbiovXHJcbm1vZGVsLmluc2VydFNjcmlwdCA9IGFzeW5jKCk9PntcclxuICAgIGF3YWl0IGNvbGxlY3Rpb24uZGVsZXRlTWFueSgpO1xyXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgY29sbGVjdGlvbi5jcmVhdGUoaW5pdGlhbERhdGEpO1xyXG4gICAgaWYocmVzcG9uc2UgJiYgcmVzcG9uc2UubGVuZ3RoKXtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufTtcclxuXHJcbi8qIFxyXG4gIG1vZGVsLmFkZEVtcGxveWVlKCkgOlxyXG4gIGluc2VydCBhIHN0dWRlbnQgZG9jdW1lbnQsXHJcbiAgaWYgaW5zZXJ0aW9uIHN1Y2Nlc3NmdWxsICwgdGhlbiByZXR1cm5zIGluc2VydGVkIGRvY3VtZW50LFxyXG4gIGVsc2UgcmV0dXJucyBudWxsXHJcbiovXHJcbm1vZGVsLmFkZEVtcGxveWVlID0gYXN5bmMoZW1wbG95ZWVPYmopPT57XHJcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBjb2xsZWN0aW9uLmNyZWF0ZShlbXBsb3llZU9iaik7XHJcbiAgICBpZihyZXNwb25zZSl7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qXHJcbiAgbW9kZWwuZ2V0QWxsRW1wbG95ZWVzKCkgOlxyXG4gIHJlYWQgYWxsIGVtcGxveWVlcyxcclxuICBpZiBvcGVyYXRpb24gc3VjY2Vzc2Z1bGwgdGhlbiByZXR1cm5zIHRoZSBhbGwgZW1wbG95ZWUgZG9jdW1lbnRzLFxyXG4gIGVsc2UgcmV0dXJucyBudWxsXHJcbiovXHJcblxyXG5tb2RlbC5nZXRBbGxFbXBsb3llZXMgPSBhc3luYygpPT57XHJcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBjb2xsZWN0aW9uLmZpbmQoKTtcclxuICAgIGlmKHJlc3BvbnNlICYmIHJlc3BvbnNlLmxlbmd0aD4wKXtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxyXG5cclxuLypcclxuICBtb2RlbC5kZWxldGVFbXBsb3llZSgpIDpcclxuICBkZWxldGUgdGhlIGVtcGxveWVlZCBieSBnaXZlbiBpZCxcclxuICBpZiBzdWNjZXNzIHRoZW4gcmV0dXJuIHRoZSBkYXRhXHJcbiAgZWxzZSByZXR1cm4gbnVsbFxyXG4qL1xyXG5cclxubW9kZWwuZGVsZXRlRW1wbG95ZWU9YXN5bmMoZWlkKT0+e1xyXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgY29sbGVjdGlvbi5kZWxldGVPbmUoe0VtcGxveWVlSWQgOiBlaWR9KTtcclxuICAgIGlmKHJlc3BvbnNlLmRlbGV0ZWRDb3VudD4wKXtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxyXG5cclxuLypcclxuICAgbW9kZWwudXBkYXRlRW1wbG95ZWUoKSA6XHJcbiAgIHVwZGF0ZSB0aGUgZW1wbG95ZWVkIGJ5IGdpdmVuIGlkLFxyXG4gICBpZiBzdWNjZXNzIHRoZW4gcmV0dXJuIHRoZSBkYXRhXHJcbiAgIGVsc2UgcmV0dXJuIG51bGxcclxuICAgcnVuVmFsaWRhdG9ycyB0byBjaGVjayB0aGUgdmFsaWRhdGlvbnNcclxuKi9cclxuXHJcbm1vZGVsLnVwZGF0ZUVtcGxveWVlID0gYXN5bmMoZW1wT2JqKT0+e1xyXG4gICAgbGV0IGVpZCA9IGVtcE9iai5FbXBsb3llZUlkO1xyXG4gICAgbGV0IGZOYW1lID0gZW1wT2JqLkZ1bGxOYW1lO1xyXG4gICAgbGV0IGRvYiA9IGVtcE9iai5EYXRlT2ZCaXJ0aDtcclxuICAgIGxldCBzYWwgPSBlbXBPYmouU2FsYXJ5O1xyXG4gICAgbGV0IGRlc2cgID0gZW1wT2JqLkRlc2lnbmF0aW9uO1xyXG4gICAgbGV0IG1vYiA9IGVtcE9iai5Nb2JpbGVObztcclxuICAgIGxldCBlbWFpbGlkID0gZW1wT2JqLkVtYWlsO1xyXG4gICAgbGV0IGFkZHIgPSBlbXBPYmouQWRkcmVzcztcclxuXHJcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBjb2xsZWN0aW9uLnVwZGF0ZU9uZSh7RW1wbG95ZWVJZCA6IGVpZH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAkc2V0IDoge1xyXG4gICAgICAgICAgICAgICAgRnVsbE5hbWUgOiBmTmFtZSxcclxuICAgICAgICAgICAgICAgIERhdGVPZkJpcnRoIDogZG9iLFxyXG4gICAgICAgICAgICAgICAgU2FsYXJ5IDogc2FsLFxyXG4gICAgICAgICAgICAgICAgRGVzaWduYXRpb24gOiBkZXNnLFxyXG4gICAgICAgICAgICAgICAgTW9iaWxlTm8gOiBtb2IsXHJcbiAgICAgICAgICAgICAgICBFbWFpbCA6IGVtYWlsaWQsXHJcbiAgICAgICAgICAgICAgICBBZGRyZXNzIDogYWRkclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSx7cnVuVmFsaWRhdG9ycyA6IHRydWV9KTtcclxuICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgIGlmKHJlc3BvbnNlLm1vZGlmaWVkQ291bnQ+MCl7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qXHJcbiAgIG1vZGVsLnJlYWRFbXBsb3llZSgpIDpcclxuICAgcmVhZCB0aGUgZW1wbG95ZWVkIGJ5IGdpdmVuIGlkLFxyXG4gICBpZiBzdWNjZXNzIHRoZW4gcmV0dXJuIHRoZSBkYXRhXHJcbiAgIGVsc2UgcmV0dXJuIG51bGxcclxuKi9cclxubW9kZWwucmVhZEVtcGxveWVlID0gYXN5bmMoaWQpPT57XHJcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBjb2xsZWN0aW9uLmZpbmRPbmUoe0VtcGxveWVlSWQgOiBpZH0se19pZCA6IDAsXCJBZGRyZXNzLl9pZFwiOjB9KTtcclxuICAgIGlmKHJlc3BvbnNlKXtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxyXG5jcmVhdGVDb2xsZWN0aW9uKCk7XHJcbm1vZHVsZS5leHBvcnRzID0gbW9kZWw7XHJcblxyXG4iXX0=